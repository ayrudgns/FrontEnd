<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>jsday4_유효성검사</title>
</head>
<body>
    <!-- 
        유효성 검사 : form 입력요소 값들이 처리조건을 만족하는지 검사하는 것

        ** form 태그 입력요소 또는 입력요소의 값을 가져오는 방법 ** 
        var selectForm = document.forms[index];     // form 태그 많은 경우, 그 순서가 index (0부터 시작)
        var selectFormElement = document.forms[index].elements[index];
                        ㄴ elements[index]는 form 태그 내부의 입력요소들의 순서가 index
        var selectFormElementValue = selectFormElement.value;       // value속성이 입력값
        var selectFormElementValue = document.forms[index].elements[index].value;
     -->
    
    <!-- document.forms[0] -->
    <!-- action은 서버 페이지로 작성해야 입력값을 처리할 수 있다. (지금은 테스트를 위해서 html로 작성) -->
    <form action="13result.html" onsubmit="return forms0_check()" name="frm0">
        <!-- document.forms[0].elements[0] -->
        <input type="text" name="user" placeholder="이름을 입력하세요."><br>
        <!-- document.forms[0].elements[1] -->
        <input type="text" name="email" placeholder="이메일을 입력하세요.">
        <!-- form태그 안의 버튼 type = submit -->
        <button>전송1</button>  <!-- onsubmit="return form0_check()"을 동작시키는 경우 -->
        <button value="forms[0] button" onclick="btn_check()" type="button">전송2</button>
        <!-- onclick과 onsubmit은 둘 다 콘솔창에 잠깐 뜬다. 그래서...요..? -->
    </form>
     
    <!-- document.forms[1] -->
     <form action="" id="momo">
        <button onclick="alert(document.forms[1].id)">테스트1</button>
     </form>

    <!-- document.forms[2] -->
     <form action="" id="sana">
        <button>테스트2</button>
    </form>

    <script>
        // 유효성 검사 : 프론트엔드에서 서버로 보내기 전에 해야 한다.
        // 아래 2개의 함수는 유효성을 검사할 함수
        // 유효성 검사를 통과하면 제출 O, 통과하지 못하면 제출 X => 다시 입력받기
        function forms0_check() {       // forms의 onsubmit이 실행하는 함수 (type="submit")
            alert('1.forms, elements 객체 사용하기');
            const user = document.forms[0].elements[0];
            const email = document.forms[0].elements[1];
            const btn = document.forms[0].elements[3].value;        // .value를 여기서 찍어도 된다.
            alert('user : ' + user.value);
            alert('email : ' + email.value);
            alert('btn : ' + btn);
            return false;       // forms의 action으로 제출, return false 주면 제출 안함
        }
/*
        function btn_check() {          // type="button"이 실행하는 함수
            alert('2. type="button"으로 form 제출하기');
            const user = document.forms[0].elements[0];
            const email = document.forms[0].elements[1];
            alert('user : ' + user.value);
            alert('email : ' + email.value);
            // document.forms[0].action = '13result.html';      // Line 63, 64 주석처리하면 제출 안함
            // document.forms[0].submit();      // submit() 함수로 form 제출
        }
*/
        function btn_check() {
            alert('2. name 속성으로 요소 또는 값 사용하기');
            const user = document.frm0.user;        // document.forms[0].user도 가능하다. (섞어서)
            const email = document.frm0.email;
            alert('user : ' + user.value);
            alert('email : ' + email.value);
            document.forms[0].action = '13result.html';
            document.forms[0].submit();      // submit() 함수로 form 제출
        }

    </script>

</body>
</html>